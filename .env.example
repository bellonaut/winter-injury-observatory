# Application Environment
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO

# Database Configuration
# Optional in demo mode. Leave unset to disable DB health checks/writes.
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/winter_injury_observatory
DB_HOST=localhost
DB_PORT=5432
DB_NAME=winter_injury_observatory
DB_USER=postgres
DB_PASSWORD=postgres
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# AWS Configuration
AWS_REGION=us-west-2
AWS_ACCOUNT_ID=123456789012
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_S3_BUCKET=winter-injury-observatory-data
AWS_KINESIS_STREAM=winter-injury-stream

# MLflow Configuration
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=winter-injury-risk
MLFLOW_S3_ENDPOINT_URL=http://localhost:9000  # For local MinIO
MLFLOW_ARTIFACT_LOCATION=s3://mlflow-artifacts

# Dagster Configuration
DAGSTER_HOME=/opt/dagster/home
DAGSTER_POSTGRES_USER=postgres
DAGSTER_POSTGRES_PASSWORD=postgres
DAGSTER_POSTGRES_DB=dagster

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true
API_SECRET_KEY=your-secret-key-change-in-production
DEMO_API_TOKEN=dev-secret
API_ALGORITHM=HS256
API_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Data Sources
ENVIRONMENT_CANADA_API_URL=https://api.weather.gc.ca/collections/climate-daily/items
OPEN_DATA_EDMONTON_API_URL=https://data.edmonton.ca/resource/
OPEN_DATA_APP_TOKEN=your_app_token_if_needed

# Model Configuration
MODEL_BACKEND=local  # local or mlflow
MODEL_ARTIFACT_PATH=artifacts/demo_model.joblib
MODEL_NAME=winter-injury-risk
MODEL_VERSION=production
MODEL_RETRAIN_SCHEDULE=0 4 * * 0  # Weekly on Sunday at 4 AM
PREDICTION_THRESHOLD=0.75

# Monitoring
EVIDENTLY_PROJECT_NAME=winter-injury-observatory
EVIDENTLY_WORKSPACE=/opt/evidently/workspace
CLOUDWATCH_NAMESPACE=WinterInjuryObservatory

# Feature Flags
ENABLE_REALTIME_PREDICTION=true
ENABLE_BATCH_PROCESSING=true
ENABLE_MODEL_RETRAINING=true
ENABLE_DRIFT_DETECTION=true

# Performance Tuning
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT_SECONDS=30
BATCH_SIZE=1000

# Synthetic Data (for development)
SYNTHETIC_DATA_DAYS=365
SYNTHETIC_DATA_START_DATE=2023-01-01
